<mxfile host="app.diagrams.net" modified="2023-06-29T17:23:17.966Z" agent="Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/111.0.0.0 Safari/537.36" etag="oho6WtlJIStN-jO8Bez3" version="21.5.2" type="github">
  <diagram name="第 1 页" id="E6oDrkw3hYDFD17rWhZb">
    <mxGraphModel dx="6330" dy="2891" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="8NAubKkpm3a8wYk_etbg-5" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="8NAubKkpm3a8wYk_etbg-1" target="8NAubKkpm3a8wYk_etbg-4">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-51" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;entryPerimeter=0;dashed=1;dashPattern=12 12;" edge="1" parent="1" source="8NAubKkpm3a8wYk_etbg-1" target="8NAubKkpm3a8wYk_etbg-50">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-1" value="parse(initialDoc, mergedConfig)" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="340" y="-30" width="200" height="40" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-3" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="8NAubKkpm3a8wYk_etbg-2" target="8NAubKkpm3a8wYk_etbg-1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-2" value="开始" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.start_1;whiteSpace=wrap;" vertex="1" parent="1">
          <mxGeometry x="390" y="-220" width="100" height="60" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-7" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="8NAubKkpm3a8wYk_etbg-4" target="8NAubKkpm3a8wYk_etbg-6">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-4" value="taleweaver = new Taleweaver(doc, mergedConfig)" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="770" y="-30" width="290" height="40" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-6" value="taleweaver.attach(container)" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="1200" y="-30" width="290" height="40" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-8" value="" style="whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="900" y="260" width="330" height="570" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-9" value="Taleweaver" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=30;" vertex="1" parent="1">
          <mxGeometry x="972.5" y="270" width="165" height="40" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-19" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="8NAubKkpm3a8wYk_etbg-10" target="8NAubKkpm3a8wYk_etbg-18">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-10" value="constructor(root, config）" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="920" y="740" width="290" height="40" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-11" value="attach(container)" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="920" y="660" width="290" height="40" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-13" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;dashed=1;dashPattern=12 12;" edge="1" parent="1" source="8NAubKkpm3a8wYk_etbg-4" target="8NAubKkpm3a8wYk_etbg-10">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="915" y="110" />
              <mxPoint x="600" y="110" />
              <mxPoint x="600" y="760" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-17" value="内部过程" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="8NAubKkpm3a8wYk_etbg-13">
          <mxGeometry x="-0.9072" y="1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-18" value="constructor(root, config）" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="920" y="950" width="290" height="40" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-34" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=1;entryDx=0;entryDy=0;endArrow=block;endFill=0;endSize=24;" edge="1" parent="1" source="8NAubKkpm3a8wYk_etbg-20" target="8NAubKkpm3a8wYk_etbg-27">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-20" value="" style="whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-10" y="1120" width="330" height="440" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-21" value="IModelNode" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=30;" vertex="1" parent="1">
          <mxGeometry x="62.5" y="1130" width="165" height="40" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-22" value="attributes: Any" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="10" y="1340" width="290" height="40" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-23" value="componentId: string" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="10" y="1210" width="290" height="40" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-24" value="partId: string | null" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="10" y="1270" width="290" height="40" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-25" value="text: string" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="10" y="1410" width="290" height="40" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-26" value="needRender: boolean" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="10" y="1485" width="290" height="40" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-27" value="" style="whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-10" y="280" width="330" height="700" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-28" value="INode" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=30;" vertex="1" parent="1">
          <mxGeometry x="62.5" y="290" width="165" height="40" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-35" value="id: string" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="10" y="350" width="290" height="40" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-36" value="root: boolean;" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="10" y="400" width="290" height="40" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-37" value="leaf: boolean;" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="10" y="460" width="290" height="40" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-38" value="contentLength: number;" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="10" y="520" width="290" height="40" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-39" value="size: number;" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="10" y="570" width="290" height="40" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-40" value="&amp;nbsp;parent: TNode | null;" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="10" y="625" width="290" height="40" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-41" value="&amp;nbsp; children: INodeList&amp;lt;TNode&amp;gt;;" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="10" y="690" width="290" height="40" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-42" value="&lt;div&gt;&amp;nbsp;firstChild: TNode | null;&lt;/div&gt;&lt;div&gt;&amp;nbsp;lastChild: TNode | null;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="10" y="750" width="290" height="60" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-43" value="&lt;div&gt;previousSibling: TNode | null;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;nextSibling: TNode | null;&lt;/span&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="10" y="830" width="290" height="60" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-44" value="&lt;div&gt;previousCrossParentSibling: TNode | null;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;nextCrossParentSibling: TNode | null;&lt;/span&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="10" y="900" width="290" height="60" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-50" value="&lt;div style=&quot;font-size: 20px;&quot;&gt;通过parse方法将INode解析为IModelRoot&lt;/div&gt;" style="shape=note;whiteSpace=wrap;html=1;backgroundOutline=1;fontColor=#000000;darkOpacity=0.05;fillColor=#FFF9B2;strokeColor=none;fillStyle=solid;direction=west;gradientDirection=north;gradientColor=#FFF2A1;shadow=1;size=20;pointerEvents=1;fontSize=20;" vertex="1" parent="1">
          <mxGeometry x="-10" y="-80" width="250" height="140" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-52" value="" style="shape=flexArrow;endArrow=classic;html=1;rounded=0;exitX=0.47;exitY=0.95;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="8NAubKkpm3a8wYk_etbg-1" target="8NAubKkpm3a8wYk_etbg-56">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="370" y="90" as="sourcePoint" />
            <mxPoint x="240" y="340" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-53" value="详细的执行过程" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=20;" vertex="1" connectable="0" parent="8NAubKkpm3a8wYk_etbg-52">
          <mxGeometry x="-0.4657" y="-1" relative="1" as="geometry">
            <mxPoint x="-179" y="38" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-58" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="8NAubKkpm3a8wYk_etbg-56" target="8NAubKkpm3a8wYk_etbg-57">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-56" value="serviceRegistry = new ServiceRegistry()" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-1112" y="290" width="290" height="40" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-61" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="8NAubKkpm3a8wYk_etbg-57" target="8NAubKkpm3a8wYk_etbg-60">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-57" value="configService = new ConfigService(buildBaseConfig(), config)" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-1152" y="530" width="370" height="40" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-63" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="8NAubKkpm3a8wYk_etbg-60" target="8NAubKkpm3a8wYk_etbg-62">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-60" value="componentService = new ComponentService(configService, serviceRegistry)" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-1180" y="770" width="426" height="40" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-65" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="8NAubKkpm3a8wYk_etbg-62" target="8NAubKkpm3a8wYk_etbg-64">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-62" value="component = componentService.getComponent(node.componentId)" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-1180" y="1010" width="426" height="40" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-160" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;dashed=1;dashPattern=8 8;" edge="1" parent="1" source="8NAubKkpm3a8wYk_etbg-64" target="8NAubKkpm3a8wYk_etbg-159">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-64" value="component.buildModelNode()" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-1180" y="1170" width="426" height="40" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-66" value="" style="whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-1970" y="685" width="330" height="570" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-67" value="ComponentService" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=30;" vertex="1" parent="1">
          <mxGeometry x="-1950" y="700" width="297.5" height="40" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-75" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="8NAubKkpm3a8wYk_etbg-72" target="8NAubKkpm3a8wYk_etbg-74">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-72" value="构造函数" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-1950" y="1160" width="290" height="40" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-73" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;dashed=1;dashPattern=12 12;" edge="1" parent="1" source="8NAubKkpm3a8wYk_etbg-60" target="8NAubKkpm3a8wYk_etbg-72">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="-1520" y="790" />
              <mxPoint x="-1520" y="1180" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-74" value="将configService.getConfig().components中&lt;br&gt;所有的组件以及PageComponent和LineComponent&lt;br&gt;注册到ComponentRegistry中" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-1960" y="1330" width="310" height="80" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-76" value="getComponent(componentId: string)" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-1942.5" y="1010" width="260" height="40" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-80" value="" style="whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-1630" y="1611" width="330" height="459" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-81" value="IComponent" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=30;" vertex="1" parent="1">
          <mxGeometry x="-1610" y="1626" width="297.5" height="40" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-82" value="buildModelNode" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-1592.5" y="1770" width="255" height="40" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-83" value="id: string" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-1595" y="1706" width="260" height="40" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-92" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.997;entryY=0.075;entryDx=0;entryDy=0;entryPerimeter=0;dashed=1;" edge="1" parent="1" source="8NAubKkpm3a8wYk_etbg-89" target="8NAubKkpm3a8wYk_etbg-90">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-93" value="含有" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="8NAubKkpm3a8wYk_etbg-92">
          <mxGeometry x="-0.1568" y="-1" relative="1" as="geometry">
            <mxPoint x="104" y="1" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-89" value="registry: IComponentRegistry&amp;nbsp;= new ComponentRegistry()" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-1905" y="810" width="185" height="40" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-77" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;dashed=1;dashPattern=8 8;" edge="1" parent="1" source="8NAubKkpm3a8wYk_etbg-62" target="8NAubKkpm3a8wYk_etbg-76">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="-1390" y="1030" />
              <mxPoint x="-1390" y="1030" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-90" value="" style="whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-2700" y="710" width="330" height="570" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-91" value="ComponentRegistry" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=30;" vertex="1" parent="1">
          <mxGeometry x="-2683.75" y="720" width="297.5" height="40" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-94" value="componentsMap: Map&amp;lt;string, IComponent&amp;gt;" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-2666" y="820" width="256" height="40" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-95" value="pageComponent?: IPageComponent" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-2666" y="880" width="256" height="40" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-96" value="lineComponent?: ILineComponent" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-2666" y="940" width="256" height="40" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-107" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="8NAubKkpm3a8wYk_etbg-97">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-2760" y="1090" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-97" value="registerComponent()" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-2666" y="1070" width="256" height="40" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-110" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="8NAubKkpm3a8wYk_etbg-98" target="8NAubKkpm3a8wYk_etbg-108">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-98" value="registerPageComponent()" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-2663" y="1129" width="256" height="40" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-111" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="8NAubKkpm3a8wYk_etbg-99" target="8NAubKkpm3a8wYk_etbg-109">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-99" value="registerLineComponent()" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-2666" y="1200" width="256" height="40" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-101" value="getComponent()" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-2666" y="1000" width="256" height="40" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-103" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="8NAubKkpm3a8wYk_etbg-74" target="8NAubKkpm3a8wYk_etbg-97">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="-1990" y="1340" />
              <mxPoint x="-1990" y="1090" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-104" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="8NAubKkpm3a8wYk_etbg-74" target="8NAubKkpm3a8wYk_etbg-98">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="-2183" y="1350" />
              <mxPoint x="-2183" y="1150" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-102" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="8NAubKkpm3a8wYk_etbg-76" target="8NAubKkpm3a8wYk_etbg-101">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="-2060" y="1020" />
              <mxPoint x="-2060" y="1020" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-105" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="8NAubKkpm3a8wYk_etbg-74" target="8NAubKkpm3a8wYk_etbg-99">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="-2250" y="1370" />
              <mxPoint x="-2250" y="1220" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-106" value="注册到componentsMap中去" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-3022" y="1070" width="256" height="40" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-108" value="注册到pageComponent中去" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-3022" y="1130" width="256" height="40" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-109" value="注册到lineComponent中去" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-3022" y="1200" width="256" height="40" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-112" value="buildRenderNode" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-1595" y="1850" width="255" height="40" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-113" value="buildViewNode" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-1592.5" y="1920" width="255" height="40" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-114" value="toDOM():&amp;nbsp;HTMLElement" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-1592.5" y="1990" width="255" height="40" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-115" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="8NAubKkpm3a8wYk_etbg-64" target="8NAubKkpm3a8wYk_etbg-82">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-116" value="" style="whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-1632.5" y="2270" width="330" height="459" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-117" value="ParagraphComponent" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=30;" vertex="1" parent="1">
          <mxGeometry x="-1612.5" y="2285" width="297.5" height="40" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-125" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="8NAubKkpm3a8wYk_etbg-118" target="8NAubKkpm3a8wYk_etbg-124">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="-1780" y="2460" />
              <mxPoint x="-1780" y="2840" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-118" value="buildModelNode" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-1595" y="2440" width="255" height="40" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-119" value="id: string" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-1597.5" y="2365" width="260" height="40" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-120" value="buildRenderNode" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-1597.5" y="2509" width="255" height="40" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-121" value="buildViewNode" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-1595" y="2579" width="255" height="40" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-122" value="toDOM():&amp;nbsp;HTMLElement" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-1595" y="2649" width="255" height="40" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-123" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=1;entryDx=0;entryDy=0;endArrow=block;endFill=0;endSize=24;dashed=1;dashPattern=12 12;" edge="1" parent="1" source="8NAubKkpm3a8wYk_etbg-116" target="8NAubKkpm3a8wYk_etbg-80">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-124" value="return new ModelParagraph()" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-1595" y="2820" width="255" height="40" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-133" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=1;entryDx=0;entryDy=0;endArrow=block;endFill=0;endSize=24;dashed=1;dashPattern=12 12;" edge="1" parent="1" source="8NAubKkpm3a8wYk_etbg-126" target="8NAubKkpm3a8wYk_etbg-20">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-134" value="实现接口" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="8NAubKkpm3a8wYk_etbg-133">
          <mxGeometry x="-0.2833" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-126" value="" style="whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-90" y="1770" width="490" height="440" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-127" value="ModelNode" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=30;" vertex="1" parent="1">
          <mxGeometry x="72.5" y="1780" width="165" height="40" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-128" value="internalNeedRender = true" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="20" y="1990" width="290" height="40" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-129" value="internalText: string" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="20" y="1860" width="290" height="40" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-130" value="internalSize?: number" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="20" y="1920" width="290" height="40" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-131" value="childDidUpdateDisposableMap: Map&amp;lt;string, IDisposable&amp;gt;" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-5" y="2070" width="340" height="40" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-132" value="didUpdateEventEmitter:&amp;nbsp;EventEmitter&amp;lt;IDidUpdateModelNodeEvent&amp;gt;" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-35" y="2140" width="400" height="40" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-153" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" edge="1" parent="1" source="8NAubKkpm3a8wYk_etbg-135" target="8NAubKkpm3a8wYk_etbg-126">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-135" value="" style="whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-90" y="2338" width="490" height="225" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-136" value="ModelBranch" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=30;" vertex="1" parent="1">
          <mxGeometry x="72.5" y="2348" width="165" height="40" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-156" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.48;entryY=0.997;entryDx=0;entryDy=0;entryPerimeter=0;endArrow=block;endFill=0;endSize=24;" edge="1" parent="1" source="8NAubKkpm3a8wYk_etbg-142" target="8NAubKkpm3a8wYk_etbg-135">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-142" value="" style="whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-100" y="2700" width="490" height="260" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-143" value="ModelParagraph" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=30;" vertex="1" parent="1">
          <mxGeometry x="50" y="2727" width="165" height="40" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-154" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="8NAubKkpm3a8wYk_etbg-145" target="8NAubKkpm3a8wYk_etbg-155">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-150" y="2810" as="targetPoint" />
            <Array as="points" />
          </mxGeometry>
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-145" value="partId" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="5" y="2880" width="290" height="40" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-151" value="构造函数&lt;br&gt;这里会验证期望必须有子节点" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="5" y="2433" width="290" height="40" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-155" value="&#39;paragraph&#39;" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="5" y="3070" width="290" height="40" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-157" value="构造函数" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="5" y="2813" width="290" height="40" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-158" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="8NAubKkpm3a8wYk_etbg-124" target="8NAubKkpm3a8wYk_etbg-157">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="-260" y="2840" />
              <mxPoint x="-260" y="2840" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-159" value="注意这里对INode的所有子节点也调用buildModelNode()方法构建成了modelNode" style="shape=note;whiteSpace=wrap;html=1;backgroundOutline=1;fontColor=#000000;darkOpacity=0.05;fillColor=#FFF9B2;strokeColor=none;fillStyle=solid;direction=west;gradientDirection=north;gradientColor=#FFF2A1;shadow=1;size=20;pointerEvents=1;fontSize=20;" vertex="1" parent="1">
          <mxGeometry x="-610" y="1110" width="360" height="160" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
