<mxfile host="app.diagrams.net" modified="2023-06-29T18:39:32.615Z" agent="Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/111.0.0.0 Safari/537.36" etag="hL7fGmgD_lXQkwjN8JCu" version="21.5.2" type="github">
  <diagram name="第 1 页" id="E6oDrkw3hYDFD17rWhZb">
    <mxGraphModel dx="4908" dy="2081" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="8NAubKkpm3a8wYk_etbg-5" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="8NAubKkpm3a8wYk_etbg-1" target="8NAubKkpm3a8wYk_etbg-4">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-51" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;entryPerimeter=0;dashed=1;dashPattern=12 12;" edge="1" parent="1" source="8NAubKkpm3a8wYk_etbg-1" target="8NAubKkpm3a8wYk_etbg-50">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-1" value="parse(initialDoc, mergedConfig)" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="340" y="-30" width="200" height="40" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-3" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="8NAubKkpm3a8wYk_etbg-2" target="8NAubKkpm3a8wYk_etbg-1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-2" value="开始" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.start_1;whiteSpace=wrap;" vertex="1" parent="1">
          <mxGeometry x="390" y="-220" width="100" height="60" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-7" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="8NAubKkpm3a8wYk_etbg-4" target="8NAubKkpm3a8wYk_etbg-6">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-4" value="taleweaver = new Taleweaver(doc, mergedConfig)" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="770" y="-30" width="290" height="40" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-6" value="taleweaver.attach(container)" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="1200" y="-30" width="290" height="40" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-8" value="" style="whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="900" y="260" width="330" height="570" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-9" value="Taleweaver" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=30;" vertex="1" parent="1">
          <mxGeometry x="972.5" y="270" width="165" height="40" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-19" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="8NAubKkpm3a8wYk_etbg-10" target="8NAubKkpm3a8wYk_etbg-18">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-10" value="constructor(root, config）" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="920" y="740" width="290" height="40" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-11" value="attach(container)" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="920" y="660" width="290" height="40" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-13" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;dashed=1;dashPattern=12 12;" edge="1" parent="1" source="8NAubKkpm3a8wYk_etbg-4" target="8NAubKkpm3a8wYk_etbg-10">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="915" y="110" />
              <mxPoint x="600" y="110" />
              <mxPoint x="600" y="760" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-17" value="内部过程" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="8NAubKkpm3a8wYk_etbg-13">
          <mxGeometry x="-0.9072" y="1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-18" value="这里初始化了一堆组件，主要注意初始化了viewService这个组件，因为后续attach是使用viewService" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="920" y="950" width="290" height="60" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-34" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=1;entryDx=0;entryDy=0;endArrow=block;endFill=0;endSize=24;" edge="1" parent="1" source="8NAubKkpm3a8wYk_etbg-20" target="8NAubKkpm3a8wYk_etbg-27">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-20" value="" style="whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-10" y="1120" width="330" height="440" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-21" value="IModelNode" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=30;" vertex="1" parent="1">
          <mxGeometry x="62.5" y="1130" width="165" height="40" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-22" value="attributes: Any" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="10" y="1340" width="290" height="40" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-23" value="componentId: string" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="10" y="1210" width="290" height="40" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-24" value="partId: string | null" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="10" y="1270" width="290" height="40" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-25" value="text: string" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="10" y="1410" width="290" height="40" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-26" value="needRender: boolean" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="10" y="1485" width="290" height="40" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-27" value="" style="whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-10" y="280" width="330" height="700" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-28" value="INode" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=30;" vertex="1" parent="1">
          <mxGeometry x="62.5" y="290" width="165" height="40" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-35" value="id: string" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="10" y="350" width="290" height="40" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-36" value="root: boolean;" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="10" y="400" width="290" height="40" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-37" value="leaf: boolean;" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="10" y="460" width="290" height="40" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-38" value="contentLength: number;" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="10" y="520" width="290" height="40" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-39" value="size: number;" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="10" y="570" width="290" height="40" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-40" value="&amp;nbsp;parent: TNode | null;" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="10" y="625" width="290" height="40" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-41" value="&amp;nbsp; children: INodeList&amp;lt;TNode&amp;gt;;" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="10" y="690" width="290" height="40" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-42" value="&lt;div&gt;&amp;nbsp;firstChild: TNode | null;&lt;/div&gt;&lt;div&gt;&amp;nbsp;lastChild: TNode | null;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="10" y="750" width="290" height="60" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-43" value="&lt;div&gt;previousSibling: TNode | null;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;nextSibling: TNode | null;&lt;/span&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="10" y="830" width="290" height="60" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-44" value="&lt;div&gt;previousCrossParentSibling: TNode | null;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;nextCrossParentSibling: TNode | null;&lt;/span&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="10" y="900" width="290" height="60" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-50" value="&lt;div style=&quot;font-size: 20px;&quot;&gt;通过parse方法将INode解析为IModelRoot&lt;/div&gt;" style="shape=note;whiteSpace=wrap;html=1;backgroundOutline=1;fontColor=#000000;darkOpacity=0.05;fillColor=#FFF9B2;strokeColor=none;fillStyle=solid;direction=west;gradientDirection=north;gradientColor=#FFF2A1;shadow=1;size=20;pointerEvents=1;fontSize=20;" vertex="1" parent="1">
          <mxGeometry x="-10" y="-80" width="250" height="140" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-52" value="" style="shape=flexArrow;endArrow=classic;html=1;rounded=0;exitX=0.47;exitY=0.95;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="8NAubKkpm3a8wYk_etbg-1" target="8NAubKkpm3a8wYk_etbg-56">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="370" y="90" as="sourcePoint" />
            <mxPoint x="240" y="340" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-53" value="详细的执行过程" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=20;" vertex="1" connectable="0" parent="8NAubKkpm3a8wYk_etbg-52">
          <mxGeometry x="-0.4657" y="-1" relative="1" as="geometry">
            <mxPoint x="-179" y="38" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-58" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="8NAubKkpm3a8wYk_etbg-56" target="8NAubKkpm3a8wYk_etbg-57">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-56" value="serviceRegistry = new ServiceRegistry()" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-1112" y="290" width="290" height="40" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-61" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="8NAubKkpm3a8wYk_etbg-57" target="8NAubKkpm3a8wYk_etbg-60">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-57" value="configService = new ConfigService(buildBaseConfig(), config)" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-1152" y="530" width="370" height="40" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-63" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="8NAubKkpm3a8wYk_etbg-60" target="8NAubKkpm3a8wYk_etbg-62">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-60" value="componentService = new ComponentService(configService, serviceRegistry)" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-1180" y="770" width="426" height="40" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-65" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="8NAubKkpm3a8wYk_etbg-62" target="8NAubKkpm3a8wYk_etbg-64">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-62" value="component = componentService.getComponent(node.componentId)" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-1180" y="1010" width="426" height="40" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-160" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;dashed=1;dashPattern=8 8;" edge="1" parent="1" source="8NAubKkpm3a8wYk_etbg-64" target="8NAubKkpm3a8wYk_etbg-159">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-64" value="component.buildModelNode()" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-1180" y="1170" width="426" height="40" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-66" value="" style="whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-1970" y="685" width="330" height="570" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-67" value="ComponentService" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=30;" vertex="1" parent="1">
          <mxGeometry x="-1950" y="700" width="297.5" height="40" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-75" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="8NAubKkpm3a8wYk_etbg-72" target="8NAubKkpm3a8wYk_etbg-74">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-72" value="构造函数" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-1950" y="1160" width="290" height="40" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-73" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;dashed=1;dashPattern=12 12;" edge="1" parent="1" source="8NAubKkpm3a8wYk_etbg-60" target="8NAubKkpm3a8wYk_etbg-72">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="-1520" y="790" />
              <mxPoint x="-1520" y="1180" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-74" value="将configService.getConfig().components中&lt;br&gt;所有的组件以及PageComponent和LineComponent&lt;br&gt;注册到ComponentRegistry中" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-1960" y="1330" width="310" height="80" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-76" value="getComponent(componentId: string)" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-1942.5" y="1010" width="260" height="40" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-80" value="" style="whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-1630" y="1611" width="330" height="459" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-81" value="IComponent" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=30;" vertex="1" parent="1">
          <mxGeometry x="-1610" y="1626" width="297.5" height="40" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-82" value="buildModelNode" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-1592.5" y="1770" width="255" height="40" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-83" value="id: string" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-1595" y="1706" width="260" height="40" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-92" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.997;entryY=0.075;entryDx=0;entryDy=0;entryPerimeter=0;dashed=1;" edge="1" parent="1" source="8NAubKkpm3a8wYk_etbg-89" target="8NAubKkpm3a8wYk_etbg-90">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-93" value="含有" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="8NAubKkpm3a8wYk_etbg-92">
          <mxGeometry x="-0.1568" y="-1" relative="1" as="geometry">
            <mxPoint x="104" y="1" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-89" value="registry: IComponentRegistry&amp;nbsp;= new ComponentRegistry()" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-1905" y="810" width="185" height="40" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-77" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;dashed=1;dashPattern=8 8;" edge="1" parent="1" source="8NAubKkpm3a8wYk_etbg-62" target="8NAubKkpm3a8wYk_etbg-76">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="-1390" y="1030" />
              <mxPoint x="-1390" y="1030" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-90" value="" style="whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-2700" y="710" width="330" height="570" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-91" value="ComponentRegistry" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=30;" vertex="1" parent="1">
          <mxGeometry x="-2683.75" y="720" width="297.5" height="40" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-94" value="componentsMap: Map&amp;lt;string, IComponent&amp;gt;" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-2666" y="820" width="256" height="40" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-95" value="pageComponent?: IPageComponent" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-2666" y="880" width="256" height="40" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-96" value="lineComponent?: ILineComponent" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-2666" y="940" width="256" height="40" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-107" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="8NAubKkpm3a8wYk_etbg-97">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-2760" y="1090" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-97" value="registerComponent()" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-2666" y="1070" width="256" height="40" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-110" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="8NAubKkpm3a8wYk_etbg-98" target="8NAubKkpm3a8wYk_etbg-108">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-98" value="registerPageComponent()" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-2663" y="1129" width="256" height="40" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-111" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="8NAubKkpm3a8wYk_etbg-99" target="8NAubKkpm3a8wYk_etbg-109">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-99" value="registerLineComponent()" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-2666" y="1200" width="256" height="40" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-101" value="getComponent()" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-2666" y="1000" width="256" height="40" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-103" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="8NAubKkpm3a8wYk_etbg-74" target="8NAubKkpm3a8wYk_etbg-97">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="-1990" y="1340" />
              <mxPoint x="-1990" y="1090" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-104" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="8NAubKkpm3a8wYk_etbg-74" target="8NAubKkpm3a8wYk_etbg-98">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="-2183" y="1350" />
              <mxPoint x="-2183" y="1150" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-102" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="8NAubKkpm3a8wYk_etbg-76" target="8NAubKkpm3a8wYk_etbg-101">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="-2060" y="1020" />
              <mxPoint x="-2060" y="1020" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-105" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="8NAubKkpm3a8wYk_etbg-74" target="8NAubKkpm3a8wYk_etbg-99">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="-2250" y="1370" />
              <mxPoint x="-2250" y="1220" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-106" value="注册到componentsMap中去" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-3022" y="1070" width="256" height="40" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-108" value="注册到pageComponent中去" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-3022" y="1130" width="256" height="40" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-109" value="注册到lineComponent中去" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-3022" y="1200" width="256" height="40" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-112" value="buildRenderNode" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-1595" y="1850" width="255" height="40" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-113" value="buildViewNode" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-1592.5" y="1920" width="255" height="40" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-114" value="toDOM():&amp;nbsp;HTMLElement" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-1592.5" y="1990" width="255" height="40" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-115" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="8NAubKkpm3a8wYk_etbg-64" target="8NAubKkpm3a8wYk_etbg-82">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-116" value="" style="whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-1632.5" y="2270" width="330" height="459" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-117" value="ParagraphComponent" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=30;" vertex="1" parent="1">
          <mxGeometry x="-1612.5" y="2285" width="297.5" height="40" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-125" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="8NAubKkpm3a8wYk_etbg-118" target="8NAubKkpm3a8wYk_etbg-124">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="-1780" y="2460" />
              <mxPoint x="-1780" y="2840" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-118" value="buildModelNode" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-1595" y="2440" width="255" height="40" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-119" value="id: string" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-1597.5" y="2365" width="260" height="40" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-120" value="buildRenderNode" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-1597.5" y="2509" width="255" height="40" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-121" value="buildViewNode" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-1595" y="2579" width="255" height="40" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-122" value="toDOM():&amp;nbsp;HTMLElement" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-1595" y="2649" width="255" height="40" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-123" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=1;entryDx=0;entryDy=0;endArrow=block;endFill=0;endSize=24;dashed=1;dashPattern=12 12;" edge="1" parent="1" source="8NAubKkpm3a8wYk_etbg-116" target="8NAubKkpm3a8wYk_etbg-80">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-124" value="return new ModelParagraph()" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-1595" y="2820" width="255" height="40" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-133" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=1;entryDx=0;entryDy=0;endArrow=block;endFill=0;endSize=24;dashed=1;dashPattern=12 12;" edge="1" parent="1" source="8NAubKkpm3a8wYk_etbg-126" target="8NAubKkpm3a8wYk_etbg-20">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-134" value="实现接口" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="8NAubKkpm3a8wYk_etbg-133">
          <mxGeometry x="-0.2833" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-126" value="" style="whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-90" y="1770" width="490" height="440" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-127" value="ModelNode" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=30;" vertex="1" parent="1">
          <mxGeometry x="72.5" y="1780" width="165" height="40" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-128" value="internalNeedRender = true" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="20" y="1990" width="290" height="40" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-129" value="internalText: string" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="20" y="1860" width="290" height="40" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-130" value="internalSize?: number" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="20" y="1920" width="290" height="40" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-131" value="childDidUpdateDisposableMap: Map&amp;lt;string, IDisposable&amp;gt;" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-5" y="2070" width="340" height="40" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-132" value="didUpdateEventEmitter:&amp;nbsp;EventEmitter&amp;lt;IDidUpdateModelNodeEvent&amp;gt;" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-35" y="2140" width="400" height="40" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-153" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" edge="1" parent="1" source="8NAubKkpm3a8wYk_etbg-135" target="8NAubKkpm3a8wYk_etbg-126">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-135" value="" style="whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-90" y="2338" width="490" height="225" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-136" value="ModelBranch" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=30;" vertex="1" parent="1">
          <mxGeometry x="72.5" y="2348" width="165" height="40" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-156" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.48;entryY=0.997;entryDx=0;entryDy=0;entryPerimeter=0;endArrow=block;endFill=0;endSize=24;" edge="1" parent="1" source="8NAubKkpm3a8wYk_etbg-142" target="8NAubKkpm3a8wYk_etbg-135">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-142" value="" style="whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-100" y="2700" width="490" height="260" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-143" value="ModelParagraph" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=30;" vertex="1" parent="1">
          <mxGeometry x="50" y="2727" width="165" height="40" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-154" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="8NAubKkpm3a8wYk_etbg-145" target="8NAubKkpm3a8wYk_etbg-155">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-150" y="2810" as="targetPoint" />
            <Array as="points" />
          </mxGeometry>
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-145" value="partId" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="5" y="2880" width="290" height="40" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-151" value="构造函数&lt;br&gt;这里会验证期望必须有子节点" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="5" y="2433" width="290" height="40" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-155" value="&#39;paragraph&#39;" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="5" y="3070" width="290" height="40" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-157" value="构造函数" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="5" y="2813" width="290" height="40" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-158" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="8NAubKkpm3a8wYk_etbg-124" target="8NAubKkpm3a8wYk_etbg-157">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="-260" y="2840" />
              <mxPoint x="-260" y="2840" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-159" value="注意这里对INode的所有子节点也调用buildModelNode()方法构建成了modelNode" style="shape=note;whiteSpace=wrap;html=1;backgroundOutline=1;fontColor=#000000;darkOpacity=0.05;fillColor=#FFF9B2;strokeColor=none;fillStyle=solid;direction=west;gradientDirection=north;gradientColor=#FFF2A1;shadow=1;size=20;pointerEvents=1;fontSize=20;" vertex="1" parent="1">
          <mxGeometry x="-610" y="1110" width="360" height="160" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-161" value="" style="whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="920" y="1287" width="330" height="459" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-162" value="ViewService" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=30;" vertex="1" parent="1">
          <mxGeometry x="940" y="1302" width="297.5" height="40" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-163" value="cursor: ICursorView" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="957.5" y="1446" width="255" height="40" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-164" value="state: IViewState" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="955" y="1382" width="260" height="40" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-165" value="domController: IDOMController" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="955" y="1526" width="255" height="40" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-202" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="8NAubKkpm3a8wYk_etbg-166" target="8NAubKkpm3a8wYk_etbg-192">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1310" y="1616" />
              <mxPoint x="1310" y="1930" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-166" value="attach()" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="957.5" y="1596" width="255" height="40" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-170" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="8NAubKkpm3a8wYk_etbg-167" target="8NAubKkpm3a8wYk_etbg-169">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-167" value="构造函数" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="957.5" y="1666" width="255" height="40" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-168" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="8NAubKkpm3a8wYk_etbg-18" target="8NAubKkpm3a8wYk_etbg-167">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="770" y="980" />
              <mxPoint x="770" y="1686" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-172" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="8NAubKkpm3a8wYk_etbg-169" target="8NAubKkpm3a8wYk_etbg-171">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-169" value="state = new ViewState" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="957.5" y="1910" width="255" height="40" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-174" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="8NAubKkpm3a8wYk_etbg-171" target="8NAubKkpm3a8wYk_etbg-173">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-171" value="domController = new DOMController" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="961.25" y="2853" width="255" height="40" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-173" value="cursor = new CursorView" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="961.25" y="3749" width="255" height="40" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-175" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="8NAubKkpm3a8wYk_etbg-6" target="8NAubKkpm3a8wYk_etbg-11">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1345" y="680" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-176" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.25;entryDx=0;entryDy=0;" edge="1" parent="1" source="8NAubKkpm3a8wYk_etbg-11" target="8NAubKkpm3a8wYk_etbg-166">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1330" y="690" />
              <mxPoint x="1330" y="1606" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-177" value="" style="whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="1670" y="1220" width="330" height="459" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-178" value="ViewState" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=30;" vertex="1" parent="1">
          <mxGeometry x="1690" y="1235" width="297.5" height="40" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-182" value="attach()" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="1707.5" y="1529" width="255" height="40" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-216" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="8NAubKkpm3a8wYk_etbg-183" target="8NAubKkpm3a8wYk_etbg-207">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-183" value="构造函数" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="1707.5" y="1599" width="255" height="40" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-184" value="" style="whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="1654" y="3370" width="330" height="459" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-185" value="DOMController" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=30;" vertex="1" parent="1">
          <mxGeometry x="1674" y="3385" width="297.5" height="40" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-186" value="attach()" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="1691.5" y="3679" width="255" height="40" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-187" value="构造函数" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="1691.5" y="3749" width="255" height="40" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-188" value="" style="whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="1673.75" y="2464" width="330" height="459" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-189" value="CursorView" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=30;" vertex="1" parent="1">
          <mxGeometry x="1693.75" y="2479" width="297.5" height="40" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-190" value="attach()" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="1711.25" y="2773" width="255" height="40" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-191" value="构造函数" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="1711.25" y="2843" width="255" height="40" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-196" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="8NAubKkpm3a8wYk_etbg-192" target="8NAubKkpm3a8wYk_etbg-194">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-198" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.75;entryDx=0;entryDy=0;" edge="1" parent="1" source="8NAubKkpm3a8wYk_etbg-192" target="8NAubKkpm3a8wYk_etbg-182">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-192" value="state.attach()" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="1350" y="1910" width="255" height="40" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-200" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="8NAubKkpm3a8wYk_etbg-193" target="8NAubKkpm3a8wYk_etbg-186">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-193" value="domController.attach()" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="1350" y="3680" width="255" height="40" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-197" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="8NAubKkpm3a8wYk_etbg-194" target="8NAubKkpm3a8wYk_etbg-193">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-199" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="8NAubKkpm3a8wYk_etbg-194" target="8NAubKkpm3a8wYk_etbg-190">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-194" value="cursor.attach()" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="1350" y="2781" width="255" height="40" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-203" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;dashed=1;dashPattern=12 12;" edge="1" parent="1" source="8NAubKkpm3a8wYk_etbg-169" target="8NAubKkpm3a8wYk_etbg-183">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1170" y="1790" />
              <mxPoint x="1370" y="1790" />
              <mxPoint x="1370" y="1619" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-204" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;dashed=1;dashPattern=12 12;" edge="1" parent="1" source="8NAubKkpm3a8wYk_etbg-171" target="8NAubKkpm3a8wYk_etbg-191">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1140" y="2863" />
              <mxPoint x="1140" y="2863" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-206" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;dashed=1;dashPattern=12 12;" edge="1" parent="1" source="8NAubKkpm3a8wYk_etbg-173" target="8NAubKkpm3a8wYk_etbg-187">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1090" y="3769" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-217" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.522;entryY=0.063;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" source="8NAubKkpm3a8wYk_etbg-207" target="8NAubKkpm3a8wYk_etbg-208">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-207" value="layoutDoc = layoutService.getDoc()" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="2270" y="1720" width="255" height="40" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-220" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.522;entryY=0.033;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" source="8NAubKkpm3a8wYk_etbg-208" target="8NAubKkpm3a8wYk_etbg-209">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-208" value="renderDoc = renderService.getDoc()" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="2265" y="1870" width="255" height="40" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-219" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="8NAubKkpm3a8wYk_etbg-209" target="8NAubKkpm3a8wYk_etbg-210">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-209" value="internalDoc = this.updateNode(null, layoutDoc, renderDoc)" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="2210" y="2060" width="350" height="50" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-210" value="监听layoutService更新布局事件&lt;br&gt;layoutService.onDidUpdateLayoutState" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="2215" y="2333" width="340" height="55" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-212" value="update()" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="1707.5" y="1450" width="255" height="40" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-213" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;dashed=1;dashPattern=1 2;strokeWidth=2;" edge="1" parent="1" source="8NAubKkpm3a8wYk_etbg-210" target="8NAubKkpm3a8wYk_etbg-212">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="2140" y="2360" />
              <mxPoint x="2140" y="1470" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-221" value="事件触发后回调update函数" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="8NAubKkpm3a8wYk_etbg-213">
          <mxGeometry x="-0.4535" y="4" relative="1" as="geometry">
            <mxPoint x="4" y="118" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-222" value="" style="whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="3540" y="1386" width="330" height="310" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-223" value="LayoutService" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=30;" vertex="1" parent="1">
          <mxGeometry x="3560" y="1401" width="297.5" height="40" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-224" value="state: ILayoutState" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="3577.5" y="1486" width="255" height="40" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-225" value="getDoc()" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="3577.5" y="1576" width="255" height="40" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-226" value="" style="whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="4330" y="1394.5" width="330" height="401.5" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-227" value="LayoutState" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=30;" vertex="1" parent="1">
          <mxGeometry x="4350" y="1409.5" width="297.5" height="40" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-228" value="engine: ILayoutEngine" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="4367.5" y="1465" width="255" height="40" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-229" value="internalDoc: ILayoutDoc" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="4371.25" y="1529.5" width="255" height="40" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-235" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="8NAubKkpm3a8wYk_etbg-230" target="8NAubKkpm3a8wYk_etbg-234">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-230" value="doc()" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="4380" y="1589" width="255" height="40" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-232" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;dashed=1;dashPattern=12 12;" edge="1" parent="1" source="8NAubKkpm3a8wYk_etbg-207" target="8NAubKkpm3a8wYk_etbg-225">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="3440" y="1740" />
              <mxPoint x="3440" y="1596" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-233" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="8NAubKkpm3a8wYk_etbg-225" target="8NAubKkpm3a8wYk_etbg-230">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-234" value="直接返回internalDoc" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="4800" y="1589" width="255" height="40" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-239" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="8NAubKkpm3a8wYk_etbg-236" target="8NAubKkpm3a8wYk_etbg-238">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-236" value="构造函数" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="4367.51" y="1739" width="255" height="40" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-243" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="8NAubKkpm3a8wYk_etbg-237" target="8NAubKkpm3a8wYk_etbg-241">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-237" value="internalDoc = engine.updateDoc(null, doc)" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="4360.63" y="1946" width="268.75" height="40" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-240" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="8NAubKkpm3a8wYk_etbg-238" target="8NAubKkpm3a8wYk_etbg-237">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-238" value="engine = new LayoutEngine" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="4367.5" y="1846" width="255" height="40" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-241" value="监听layoutService更新布局事件&lt;br&gt;layoutService.onDidUpdateLayoutState" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="4325.01" y="2066" width="340" height="55" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-242" value="update()" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="4371.25" y="1656" width="255" height="40" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-244" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.75;entryDx=0;entryDy=0;dashed=1;dashPattern=1 1;strokeWidth=2;" edge="1" parent="1" source="8NAubKkpm3a8wYk_etbg-241" target="8NAubKkpm3a8wYk_etbg-242">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="4190" y="2094" />
              <mxPoint x="4190" y="1686" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-245" value="事件触发后回调update函数" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="8NAubKkpm3a8wYk_etbg-244">
          <mxGeometry x="-0.3873" y="4" relative="1" as="geometry">
            <mxPoint y="-1" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-246" value="" style="whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="5310" y="1386" width="330" height="401.5" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-247" value="LayoutEngine" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=30;" vertex="1" parent="1">
          <mxGeometry x="5330" y="1401" width="297.5" height="40" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-251" value="构造函数" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="5347.51" y="1730.5" width="255" height="40" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-252" value="updateDoc()" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="5351.25" y="1647.5" width="255" height="40" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-253" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;dashed=1;dashPattern=12 12;" edge="1" parent="1" source="8NAubKkpm3a8wYk_etbg-238" target="8NAubKkpm3a8wYk_etbg-251">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-254" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;dashed=1;dashPattern=1 2;strokeWidth=2;" edge="1" parent="1" source="8NAubKkpm3a8wYk_etbg-237" target="8NAubKkpm3a8wYk_etbg-252">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="5070" y="1966" />
              <mxPoint x="5070" y="1668" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-255" value="" style="whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="3560" y="2360" width="330" height="310" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-256" value="RenderService" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=30;" vertex="1" parent="1">
          <mxGeometry x="3580" y="2375" width="297.5" height="40" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-257" value="state: IRenderState" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="3597.5" y="2460" width="255" height="40" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-258" value="getDoc()" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="3597.5" y="2550" width="255" height="40" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-259" value="" style="whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="4350" y="2368.5" width="330" height="401.5" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-260" value="RenderState" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=30;" vertex="1" parent="1">
          <mxGeometry x="4370" y="2383.5" width="297.5" height="40" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-262" value="internalDoc: IRenderDoc" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="4394.38" y="2480" width="255" height="40" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-263" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" source="8NAubKkpm3a8wYk_etbg-264" target="8NAubKkpm3a8wYk_etbg-266" parent="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-264" value="doc()" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="4400" y="2563" width="255" height="40" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-265" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" source="8NAubKkpm3a8wYk_etbg-258" target="8NAubKkpm3a8wYk_etbg-264" parent="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-266" value="直接返回internalDoc" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="4820" y="2563" width="255" height="40" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-267" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" source="8NAubKkpm3a8wYk_etbg-268" target="8NAubKkpm3a8wYk_etbg-272" parent="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-268" value="构造函数" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="4387.51" y="2713" width="255" height="40" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-269" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" source="8NAubKkpm3a8wYk_etbg-270" target="8NAubKkpm3a8wYk_etbg-273" parent="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-270" value="internalDoc = this.updateNode(null, modelRoot)" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="4380.63" y="2920" width="268.75" height="40" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-271" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" source="8NAubKkpm3a8wYk_etbg-272" target="8NAubKkpm3a8wYk_etbg-270" parent="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-272" value="modelRoot = modelService.getRoot()" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="4387.5" y="2820" width="255" height="40" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-273" value="监听modelService更新事件&lt;br&gt;modelService.onDidUpdateModelState" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="4345.01" y="3040" width="340" height="55" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-274" value="update()" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="4391.25" y="2630" width="255" height="40" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-275" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.75;entryDx=0;entryDy=0;dashed=1;dashPattern=1 1;strokeWidth=2;" edge="1" source="8NAubKkpm3a8wYk_etbg-273" target="8NAubKkpm3a8wYk_etbg-274" parent="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="4210" y="3068" />
              <mxPoint x="4210" y="2660" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-276" value="事件触发后回调update函数" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="8NAubKkpm3a8wYk_etbg-275">
          <mxGeometry x="-0.3873" y="4" relative="1" as="geometry">
            <mxPoint y="-1" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-283" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.75;entryDx=0;entryDy=0;dashed=1;dashPattern=12 12;" edge="1" parent="1" source="8NAubKkpm3a8wYk_etbg-208" target="8NAubKkpm3a8wYk_etbg-258">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-284" value="" style="whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="5490" y="2365" width="330" height="401.5" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-285" value="ModelService" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=30;" vertex="1" parent="1">
          <mxGeometry x="5510" y="2380" width="297.5" height="40" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-286" value="getRoot" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="5531.25" y="2563" width="255" height="40" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-287" value="state: IModelState" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="5531.25" y="2480" width="255" height="40" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-288" value="" style="whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="4344.99" y="3260" width="330" height="401.5" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-289" value="ModelState" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=30;" vertex="1" parent="1">
          <mxGeometry x="4364.99" y="3275" width="297.5" height="40" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-290" value="root: IModelRoot" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="4387.51" y="3370" width="255" height="40" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-291" value="applyChange()" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="4394.99" y="3454.5" width="255" height="40" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-293" value="构造函数" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="4382.5" y="3604.5" width="255" height="40" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-300" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="8NAubKkpm3a8wYk_etbg-272" target="8NAubKkpm3a8wYk_etbg-286">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="8NAubKkpm3a8wYk_etbg-303" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="8NAubKkpm3a8wYk_etbg-286" target="8NAubKkpm3a8wYk_etbg-290">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="5659" y="3390" />
            </Array>
          </mxGeometry>
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
